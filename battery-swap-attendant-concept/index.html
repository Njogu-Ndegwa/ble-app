<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VoltSwap Attendant</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
</head>
<body>

    <!-- App Header -->
    <header class="app-header">
        <div class="brand">
            <span class="material-icons-round icon">bolt</span>
            <h1>VoltSwap</h1>
        </div>
        <div class="attendant-profile">
            <span class="status-dot online"></span>
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="Attendant">
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app-container">
        
        <!-- VIEW 1: DASHBOARD -->
        <section id="view-dashboard" class="view active">
            <div class="greeting">
                <h2>Hello, Alex</h2>
                <p>Station #42 • 12 Batteries Ready</p>
            </div>

            <div class="action-card-container">
                <button id="btn-start-swap" class="large-action-btn">
                    <div class="btn-content">
                        <span class="material-icons-round scan-icon">qr_code_scanner</span>
                        <span class="label">Scan Incoming Battery</span>
                    </div>
                    <div class="ripple-bg"></div>
                </button>
            </div>

            <div class="recent-activity">
                <h3>Recent Swaps</h3>
                <div class="activity-list">
                    <div class="activity-item">
                        <span class="time">10:42 AM</span>
                        <span class="desc">ID #8832 • Paid</span>
                        <span class="amount">+$4.50</span>
                    </div>
                    <div class="activity-item">
                        <span class="time">10:15 AM</span>
                        <span class="desc">ID #9921 • Paid</span>
                        <span class="amount">+$5.20</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- VIEW 2: SCANNING SIMULATION -->
        <section id="view-scanning" class="view hidden">
            <div class="camera-overlay">
                <div class="scanner-frame">
                    <div class="scan-line"></div>
                </div>
                <p>Align Battery QR Code</p>
                <button class="btn-secondary" id="btn-cancel-scan">Cancel</button>
            </div>
        </section>

        <!-- VIEW 3: VERIFICATION & COST -->
        <section id="view-details" class="view hidden">
            <div class="step-indicator">
                <span class="step active">1</span>
                <div class="line"></div>
                <span class="step">2</span>
            </div>

            <div class="card success-card">
                <div class="card-header">
                    <span class="material-icons-round check-icon">verified</span>
                    <div>
                        <h3>Ownership Verified</h3>
                        <p>Customer: Sarah Jenkins</p>
                    </div>
                </div>
            </div>

            <div class="battery-stats">
                <div class="stat-row">
                    <span>Incoming Battery</span>
                    <span class="value warning">12% <span class="material-icons-round">battery_alert</span></span>
                </div>
                <div class="stat-row">
                    <span>Cycles</span>
                    <span class="value">452</span>
                </div>
            </div>

            <div class="cost-calculation">
                <div class="cost-row">
                    <span>Energy Used (2.4kWh)</span>
                    <span>$3.80</span>
                </div>
                <div class="cost-row">
                    <span>Service Fee</span>
                    <span>$1.00</span>
                </div>
                <div class="divider"></div>
                <div class="total-row">
                    <span>Total Due</span>
                    <span class="total-amount">$4.80</span>
                </div>
            </div>

            <div class="action-footer">
                <button id="btn-confirm-payment" class="btn-primary">
                    Proceed to Payment
                    <span class="material-icons-round">arrow_forward</span>
                </button>
            </div>
        </section>

        <!-- VIEW 4: SCAN CUSTOMER PAYMENT -->
        <section id="view-payment" class="view hidden">
             <div class="step-indicator">
                <span class="step completed">1</span>
                <div class="line active"></div>
                <span class="step active">2</span>
            </div>

            <div class="instruction-text">
                <h2>Scan Customer App</h2>
                <p>Ask Sarah to show her payment QR code.</p>
            </div>

            <div class="payment-scanner-placeholder" id="payment-trigger">
                <span class="material-icons-round">qr_code_2</span>
                <p>Tap to Simulate Scan</p>
            </div>

            <div class="payment-details">
                <p>Charging: <strong>$4.80</strong></p>
            </div>

             <button class="btn-text" id="btn-back-details">Go Back</button>
        </section>

        <!-- VIEW 5: SUCCESS/DISPENSE -->
        <section id="view-success" class="view hidden">
            <div class="success-animation">
                <div class="circle-loader">
                    <span class="material-icons-round huge-icon">bolt</span>
                </div>
            </div>
            <h2>Payment Confirmed!</h2>
            <p class="subtitle">Dispensing Battery #B-1049...</p>
            
            <div class="dispense-status">
                <div class="slot-info">
                    <span class="slot-label">Slot 4</span>
                    <span class="status-badge">OPENING...</span>
                </div>
            </div>

            <button id="btn-finish" class="btn-primary full-width">
                Complete Swap
            </button>
        </section>

    </main>

    <script src="app.js"></script>
</body>
</html>
