<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SwapStation - Attendant Portal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Status Bar Mock -->
        <div class="status-bar">
            <span class="time">9:41</span>
            <div class="status-icons">
                <svg class="icon-signal" viewBox="0 0 24 24" fill="currentColor"><path d="M2 22h4V12H2v10zm6 0h4V8H8v14zm6 0h4V4h-4v18z"/></svg>
                <svg class="icon-wifi" viewBox="0 0 24 24" fill="currentColor"><path d="M1 9l2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9zm8 8l3 3 3-3c-1.65-1.66-4.34-1.66-6 0zm-4-4l2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13z"/></svg>
                <div class="battery-indicator"><div class="battery-level"></div></div>
            </div>
        </div>

        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="station-badge">
                    <span class="badge-icon">⚡</span>
                </div>
                <div class="header-info">
                    <h1>SwapStation</h1>
                    <span class="station-id">Station #042 • Downtown</span>
                </div>
            </div>
            <button class="header-btn" id="menuBtn">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="1"/><circle cx="12" cy="5" r="1"/><circle cx="12" cy="19" r="1"/>
                </svg>
            </button>
        </header>

        <!-- Progress Indicator -->
        <div class="progress-container">
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-dot"></div>
                    <span>Scan</span>
                </div>
                <div class="step-line"></div>
                <div class="step" data-step="2">
                    <div class="step-dot"></div>
                    <span>Verify</span>
                </div>
                <div class="step-line"></div>
                <div class="step" data-step="3">
                    <div class="step-dot"></div>
                    <span>Payment</span>
                </div>
                <div class="step-line"></div>
                <div class="step" data-step="4">
                    <div class="step-dot"></div>
                    <span>Done</span>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <main class="main-content">
            
            <!-- Step 1: Scan Battery -->
            <section class="screen active" id="screen-scan">
                <div class="scan-area">
                    <div class="scan-visual">
                        <div class="scan-ring outer"></div>
                        <div class="scan-ring middle"></div>
                        <div class="scan-ring inner"></div>
                        <div class="scan-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <rect x="3" y="3" width="7" height="7" rx="1"/>
                                <rect x="14" y="3" width="7" height="7" rx="1"/>
                                <rect x="3" y="14" width="7" height="7" rx="1"/>
                                <rect x="14" y="14" width="7" height="7" rx="1"/>
                            </svg>
                        </div>
                    </div>
                    <h2>Scan Customer Battery</h2>
                    <p>Position the battery QR code within the scanner area</p>
                </div>
                <button class="btn-primary btn-scan" id="btnScanBattery">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                        <circle cx="12" cy="13" r="4"/>
                    </svg>
                    Tap to Scan Battery
                </button>
            </section>

            <!-- Step 2: Verify & Calculate -->
            <section class="screen" id="screen-verify">
                <div class="verification-card">
                    <div class="verify-header">
                        <div class="verify-status success">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                                <path d="M20 6L9 17l-5-5"/>
                            </svg>
                        </div>
                        <span class="verify-label">Battery Verified</span>
                    </div>
                    
                    <div class="customer-info">
                        <div class="customer-avatar" id="customerAvatar">JD</div>
                        <div class="customer-details">
                            <h3 id="customerName">John Doe</h3>
                            <span class="customer-id" id="customerId">ID: #CUS-2847</span>
                        </div>
                        <div class="member-badge">
                            <span>Premium</span>
                        </div>
                    </div>

                    <div class="battery-details">
                        <div class="detail-row">
                            <span class="detail-label">Battery Serial</span>
                            <span class="detail-value" id="batterySerial">BAT-7829-XK</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Current Charge</span>
                            <div class="charge-indicator">
                                <div class="charge-bar">
                                    <div class="charge-level" id="chargeLevel" style="width: 12%"></div>
                                </div>
                                <span id="chargePercent">12%</span>
                            </div>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Last Swap</span>
                            <span class="detail-value" id="lastSwap">3 days ago</span>
                        </div>
                    </div>
                </div>

                <div class="cost-card">
                    <div class="cost-header">
                        <span>Swap Cost</span>
                        <span class="cost-discount">-15% Member</span>
                    </div>
                    <div class="cost-breakdown">
                        <div class="cost-row">
                            <span>Base swap fee</span>
                            <span>$8.00</span>
                        </div>
                        <div class="cost-row">
                            <span>Energy difference (88%)</span>
                            <span>$4.40</span>
                        </div>
                        <div class="cost-row discount">
                            <span>Premium discount</span>
                            <span>-$1.86</span>
                        </div>
                    </div>
                    <div class="cost-total">
                        <span>Total Due</span>
                        <span class="total-amount" id="totalAmount">$10.54</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn-secondary" id="btnReject">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                        </svg>
                        Reject
                    </button>
                    <button class="btn-primary" id="btnProceedPayment">
                        Proceed to Payment
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/>
                        </svg>
                    </button>
                </div>
            </section>

            <!-- Step 3: Payment Confirmation -->
            <section class="screen" id="screen-payment">
                <div class="payment-waiting">
                    <div class="waiting-animation">
                        <div class="pulse-ring"></div>
                        <div class="waiting-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <rect x="1" y="4" width="22" height="16" rx="2"/>
                                <line x1="1" y1="10" x2="23" y2="10"/>
                            </svg>
                        </div>
                    </div>
                    <h2>Awaiting Payment</h2>
                    <p class="payment-amount">Amount: <strong id="paymentAmount">$10.54</strong></p>
                    <p class="payment-instruction">Customer is completing payment...</p>
                </div>

                <div class="payment-methods">
                    <span class="methods-label">Accepted Methods</span>
                    <div class="methods-icons">
                        <div class="method-chip">Mobile Pay</div>
                        <div class="method-chip">Card</div>
                        <div class="method-chip">Cash</div>
                    </div>
                </div>

                <button class="btn-primary btn-scan-payment" id="btnScanPayment">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7" rx="1"/>
                        <rect x="14" y="3" width="7" height="7" rx="1"/>
                        <rect x="3" y="14" width="7" height="7" rx="1"/>
                        <rect x="14" y="14" width="7" height="7" rx="1"/>
                    </svg>
                    Scan Payment QR
                </button>

                <button class="btn-text" id="btnCashPayment">Mark as Cash Payment</button>
            </section>

            <!-- Step 4: Complete -->
            <section class="screen" id="screen-complete">
                <div class="success-container">
                    <div class="success-animation">
                        <div class="success-circle"></div>
                        <svg class="success-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                            <path d="M20 6L9 17l-5-5"/>
                        </svg>
                    </div>
                    <h2>Swap Complete!</h2>
                    <p>Transaction successful</p>
                </div>

                <div class="receipt-card">
                    <div class="receipt-header">
                        <span>Receipt</span>
                        <span class="receipt-id" id="receiptId">#TXN-84729</span>
                    </div>
                    <div class="receipt-details">
                        <div class="receipt-row">
                            <span>Customer</span>
                            <span id="receiptCustomer">John Doe</span>
                        </div>
                        <div class="receipt-row">
                            <span>New Battery</span>
                            <span id="receiptNewBattery">BAT-9102-ZM</span>
                        </div>
                        <div class="receipt-row">
                            <span>Charge Level</span>
                            <span class="full-charge">100%</span>
                        </div>
                        <div class="receipt-row">
                            <span>Amount Paid</span>
                            <span id="receiptAmount">$10.54</span>
                        </div>
                        <div class="receipt-row">
                            <span>Payment Method</span>
                            <span id="receiptMethod">Mobile Pay</span>
                        </div>
                    </div>
                </div>

                <div class="new-battery-card">
                    <div class="new-battery-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="12" height="18" rx="2"/>
                            <rect x="9" y="1" width="6" height="3"/>
                            <rect x="8" y="7" width="8" height="12" rx="1" fill="var(--accent-cyan)"/>
                        </svg>
                    </div>
                    <div class="new-battery-info">
                        <span class="label">Hand Over Battery</span>
                        <span class="battery-code" id="newBatteryCode">Slot #7 • BAT-9102-ZM</span>
                    </div>
                </div>

                <button class="btn-primary btn-new-swap" id="btnNewSwap">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/>
                        <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                    </svg>
                    Start New Swap
                </button>
            </section>

        </main>

        <!-- Bottom Stats Bar -->
        <footer class="bottom-stats">
            <div class="stat">
                <span class="stat-value" id="todaySwaps">24</span>
                <span class="stat-label">Today's Swaps</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat">
                <span class="stat-value" id="availableBatteries">18</span>
                <span class="stat-label">Available</span>
            </div>
            <div class="stat-divider"></div>
            <div class="stat">
                <span class="stat-value" id="revenue">$312</span>
                <span class="stat-label">Revenue</span>
            </div>
        </footer>
    </div>

    <!-- Scanning Overlay -->
    <div class="scan-overlay" id="scanOverlay">
        <div class="scan-frame">
            <div class="scan-corners">
                <div class="corner tl"></div>
                <div class="corner tr"></div>
                <div class="corner bl"></div>
                <div class="corner br"></div>
            </div>
            <div class="scan-line"></div>
        </div>
        <p class="scan-hint">Scanning...</p>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <div class="toast-icon"></div>
        <span class="toast-message"></span>
    </div>

    <script src="app.js"></script>
</body>
</html>

